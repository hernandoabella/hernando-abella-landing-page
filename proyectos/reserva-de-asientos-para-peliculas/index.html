<!-- Made by Hernando Abella -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hernando Abella</title>
    <link rel="stylesheet" href="./component.css">
    <link type="text/css" rel="stylesheet" href="http://ajblk.github.io/SyntaxHighlightGenerator-v3.0/styles/shCoreDefault.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/plugins/toolbar/prism-toolbar.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/plugins/line-numbers/prism-line-numbers.min.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <script type="text/javascript" src="http://ajblk.github.io/SyntaxHighlightGenerator-v3.0/scripts/sh-v3.0-min.js"></script>
</head>
<body>
    <div class="backbar">
        <a href="/proyectos/"><i class="fas fa-arrow-left"></i></a>
    </div>

    <section class="codigo__del__proyecto">
        <div class="app__background">
            <div class="app__container">
                
                <!-- app code goes here -->

                    <div class="s">
                      
    <div class="contenedor__pelicula">
      <label>Selecciona una pelicula</label>
      <select id="pelicula">
        <option value="10">Vengadores: Endgame ($10)</option>
        <option value="12">Joker ($12)</option>
        <option value="8">Toy Story 4 ($8)</option>
        <option value="9">Rey Leon ($9)</option>
      </select>
    </div>

    <ul class="showcase">
      <li>
        <div class="silla"></div>
        <small>Vacia</small>
      </li>
      <li>
        <div class="silla seleccionada"></div>
        <small>Seleccionada</small>
      </li>
      <li>
        <div class="silla ocupada"></div>
        <small>Ocupada</small>
      </li>
    </ul>

    <div class="contenedor">
      <div class="pantalla"></div>

      <div class="fila">
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
      </div>

      <div class="fila">
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla ocupada"></div>
        <div class="silla ocupada"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
      </div>

      <div class="fila">
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla ocupada"></div>
        <div class="silla ocupada"></div>
      </div>

      <div class="fila">
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
      </div>

      <div class="fila">
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla ocupada"></div>
        <div class="silla ocupada"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
      </div>

      <div class="fila">
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla"></div>
        <div class="silla ocupada"></div>
        <div class="silla ocupada"></div>
        <div class="silla ocupada"></div>
        <div class="silla"></div>
      </div>
    </div>

    <p class="text">
      Has seleccionado <span id="contar">0</span> sillas por un precio de $<span
        id="precio">0</span>
    </p>  
                    </div>
                    
                    

                <!-- app code goes here -->

            </div>
        </div>
        
        <section class="contenido__proyecto">
            <h1>Reserva de Asientos para Películas</h1>
        <br>
        <p>Esta aplicación te permite ver el clima de distintos lugares del mundo.</p>
        <br>
        <div class="flexNav">
            <ul class="breadcrumb">
                <li><a href="/index.html">Inicio</a></li>
                <li><a href="/proyectos">Proyectos</a></li>
                <li>Reserva de Asientos para Películas</li>
            </ul>
            <div class="download">
                <a href="./aplicacion-meteorologica.rar" download><i class="fas fa-download"></i></a>
            </div>
        </div>

        <br>

        <div class="code__container">
            <h5 class="html__tag">HTML</h5>
            <div class="codigo__html">
                <pre class="line-numbers"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot; /&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot; /&gt;
    &lt;title&gt;Reserva de asientos para pel&iacute;culas&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class=&quot;contenedor__pelicula&quot;&gt;
      &lt;label&gt;Selecciona una pelicula&lt;/label&gt;
      &lt;select id=&quot;pelicula&quot;&gt;
        &lt;option value=&quot;10&quot;&gt;Vengadores: Endgame ($10)&lt;/option&gt;
        &lt;option value=&quot;12&quot;&gt;Joker ($12)&lt;/option&gt;
        &lt;option value=&quot;8&quot;&gt;Toy Story 4 ($8)&lt;/option&gt;
        &lt;option value=&quot;9&quot;&gt;Rey Leon ($9)&lt;/option&gt;
      &lt;/select&gt;
    &lt;/div&gt;

    &lt;ul class=&quot;showcase&quot;&gt;
      &lt;li&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;small&gt;Vacia&lt;/small&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;div class=&quot;silla seleccionada&quot;&gt;&lt;/div&gt;
        &lt;small&gt;Seleccionada&lt;/small&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;div class=&quot;silla ocupada&quot;&gt;&lt;/div&gt;
        &lt;small&gt;Ocupada&lt;/small&gt;
      &lt;/li&gt;
    &lt;/ul&gt;

    &lt;div class=&quot;contenedor&quot;&gt;
      &lt;div class=&quot;pantalla&quot;&gt;&lt;/div&gt;

      &lt;div class=&quot;fila&quot;&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
      &lt;/div&gt;

      &lt;div class=&quot;fila&quot;&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla ocupada&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla ocupada&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
      &lt;/div&gt;

      &lt;div class=&quot;fila&quot;&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla ocupada&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla ocupada&quot;&gt;&lt;/div&gt;
      &lt;/div&gt;

      &lt;div class=&quot;fila&quot;&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
      &lt;/div&gt;

      &lt;div class=&quot;fila&quot;&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla ocupada&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla ocupada&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
      &lt;/div&gt;

      &lt;div class=&quot;fila&quot;&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla ocupada&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla ocupada&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla ocupada&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;silla&quot;&gt;&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;p class=&quot;text&quot;&gt;
      Has seleccionado &lt;span id=&quot;contar&quot;&gt;0&lt;/span&gt; sillas por un precio de $&lt;span
        id=&quot;precio&quot;&gt;0&lt;/span&gt;
    &lt;/p&gt;

    &lt;script src=&quot;script.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
            </div>
            
            <hr>

            <h5 class="css__tag">CSS</h5>
            <div class="codigo__css">
                <pre class="line-numbers"><code class="language-css">  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap');

  * {
    box-sizing: border-box;
    font-family: 'Roboto', sans-serif;
  }

  body {
    background-color: #242333;
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
  }

.contenedor__pelicula {
  margin: 20px 0;
}

.contenedor__pelicula select {
  background-color: #fff;
  border: 0;
  border-radius: 5px;
  font-size: 14px;
  margin-left: 10px;
  padding: 5px 15px 5px 15px;
  -moz-appearance: none;
  -webkit-appearance: none;
  appearance: none;
}

.contenedor{
  perspective: 1000px;
  margin-bottom: 30px;
}

.silla{
  background-color: #444451;
  height: 12px;
  width: 15px;
  margin: 3px;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
}

.silla.seleccionada {
  background-color: #6feaf6;
}

.silla.ocupada {
  background-color: #fff;
}

.silla:nth-of-type(2) {
  margin-right: 18px;
}

.silla:nth-last-of-type(2) {
  margin-left: 18px;
}

.silla:not(.ocupada):hover {
  cursor: pointer;
  transform: scale(1.2);
}

.showcase .silla:not(.ocupada):hover {
  cursor: default;
  transform: scale(1);
}

.showcase {
  background: rgba(0, 0, 0, 0.1);
  padding: 5px 10px;
  border-radius: 5px;
  color: #777;
  list-style-type: none;
  display: flex;
  justify-content: space-between;
}

.showcase li {
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 10px;
}

.showcase li small {
  margin-left: 2px;
}

.fila {
  display: flex;
}

.pantalla {
  background-color: #fff;
  height: 70px;
  width: 100%;
  margin: 15px 0;
  transform: rotateX(-45deg);
  box-shadow: 0 3px 10px rgba(255, 255, 255, 0.7);
}

p.text {
  margin: 5px 0;
}

p.text span {
  color: #6feaf6;
}
</code></pre>
            </div>

            <hr>

            <h5 class="javascript__tag">JAVASCRIPT</h5>
            
            <div class="codigo__javascript">
                <pre class="line-numbers"><code class="language-javascript">const contenedor = document.querySelector('.contenedor');
const sillas = document.querySelectorAll('.fila .seat:not(.ocupada)');
const contar = document.getElementById('contar');
const precio = document.getElementById('precio');

const peliculaSeleccionada = document.getElementById('pelicula');
let precioEntrada = +peliculaSeleccionada.value;

const populateUI = () => {
  const sillasSeleccionadas = JSON.parse(localStorage.getItem('sillasSeleccionadas'));

  if (sillasSeleccionadas !== null && sillasSeleccionadas.length > 0) {
    sillas.forEach((silla, indice) => {
      if (sillasSeleccionadas.indexOf(indice) > -1) {
        silla.classList.add('seleccionada');
      }
    });
  }

  const indicePeliculaSeleccionada = localStorage.getItem('indicePeliculaSeleccionada');
  const precioPeliculaSeleccionada = localStorage.getItem('precioPeliculaSeleccionada');

  if (indicePeliculaSeleccionada !== null) {
    peliculaSeleccionada.indiceSeleccionado = indicePeliculaSeleccionada;
  }

  if (precioPeliculaSeleccionada !== null) {
    contar.innerText = sillasSeleccionadas.length;
    precio.innerText = sillasSeleccionadas.length * +precioPeliculaSeleccionada;
  }
};

populateUI();

peliculaSelccionada = (movieIndex, moviePrice) => {
  localStorage.setItem('indicePeliculaSeleccionada', movieIndex);
  localStorage.setItem('precioPeliculaSeleccionada', moviePrice);
};

const actualizarContadorDeSillas = () => {
  const sillasSeleccionadas = document.querySelectorAll('.fila .seleccionada');

  const indiceSillas = [...sillasSeleccionadas].map(silla => [...sillas].indexOf(silla));

  localStorage.setItem('sillasSeleccionadas', JSON.stringify(indiceSillas));

  const contarSillasSeleccionadas = sillasSeleccionadas.length;

  contar.innerText = contarSillasSeleccionadas;
  precio.innerText = contarSillasSeleccionadas * precioEntrada;
};

// Evento seleccionar silla
contenedor.addEventListener('click', e => {
  if (
    e.target.classList.contains('silla') &&
    !e.target.classList.contains('ocupada')
  ) {
    e.target.classList.toggle('seleccionada');

    actualizarContadorDeSillas();
  }
});

// Evento seleccionar pelicula
peliculaSeleccionada.addEventListener('change', e => {
  precioEntrada = +e.target.value;
  peliculaSeleccionada(e.target.indiceSeleccionado, e.target.value);

  actualizarContadorDeSillas();
});
</code></pre>
            </div>
        </div>
        </section>
        
    </section>

    <footer>
        <p>&copy; 2021 Hernando Abella</p>
    </footer>

    <!--Scripts-->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/plugins/toolbar/prism-toolbar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="./component.js"></script>
    <script src="./script.js"></script>
</body>
</html>